"use strict";(self["webpackChunkchirpley"]=self["webpackChunkchirpley"]||[]).push([[7708],{17708:function(e,a,t){t.d(a,{A:function(){return na}});var l=t(20641),s=t(90033),i=t(61536),o=t(88196),n=t(27111),d=t(26931),r=t(43312),c=t(99609),u=t(50852),p=t(18507),v=t(99133),m=t(4261),f=t(91743),h=t(26861),k=t(68517),b=t(46152),g=t(43091),_=t(43899);const w={class:"w-100 overflow-y-auto overflow-x-hidden d-flex justify-center border-radius-16"},x=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.711 5.29289C19.1015 5.68342 19.1015 6.31658 18.711 6.70711L6.71101 18.7071C6.32049 19.0976 5.68732 19.0976 5.2968 18.7071C4.90628 18.3166 4.90628 17.6834 5.2968 17.2929L17.2968 5.29289C17.6873 4.90237 18.3205 4.90237 18.711 5.29289Z",fill:"#8C8B91"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.2968 5.29289C5.68732 4.90237 6.32049 4.90237 6.71101 5.29289L18.711 17.2929C19.1015 17.6834 19.1015 18.3166 18.711 18.7071C18.3205 19.0976 17.6873 19.0976 17.2968 18.7071L5.2968 6.70711C4.90628 6.31658 4.90628 5.68342 5.2968 5.29289Z",fill:"#8C8B91"})],-1),y={class:"d-flex justify-space-between mb-8"},C={class:"d-flex"},L={class:"h2 align-self-center text-blue-cool-600"},F={key:0},A={class:"card py-2 px-4"},B={class:"d-flex justify-space-between ga-3"},V={class:"d-block"},j={class:"text-subtitle text-center"},W=(0,l.Lk)("p",{class:"text-normal text-center"},"D",-1),M={class:"d-block"},S={class:"text-subtitle text-center"},T=(0,l.Lk)("p",{class:"text-normal text-center"},"H",-1),X={class:"d-block"},$={class:"text-subtitle text-center"},D=(0,l.Lk)("p",{class:"text-normal text-center"},"M",-1),E={key:1,class:"d-flex ga-2"},H=(0,l.Lk)("span",{class:"data-chip-label"},"Status",-1),z={class:"data-chip-value text-capitalize"},P={class:"d-flex flex-column ga-2"},Q={class:"text-normal text-blue-cool-600 text-bold"},O={class:"text-normal"},Z=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Platform ")],-1),I={class:"text-normal text-blue-cool-400"},N={class:"text-blue-cool-600"},R=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Service ")],-1),U={class:"text-normal text-blue-cool-400"},G={class:"text-blue-cool-600"},K=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Runtime ")],-1),Y={class:"text-normal text-blue-cool-400"},q={class:"text-blue-cool-600"},J={class:"d-flex ga-2"},ee=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.4576 6.11084C23.7907 6.28224 24 6.62542 24 7V17C24 17.3746 23.7907 17.7178 23.4576 17.8892C23.1245 18.0606 22.7236 18.0315 22.4188 17.8137L15.4188 12.8137C15.156 12.626 15 12.323 15 12C15 11.6771 15.156 11.374 15.4188 11.1863L22.4188 6.18627C22.7236 5.96855 23.1245 5.93943 23.4576 6.11084ZM17.7205 12L22 15.0568V8.94319L17.7205 12Z",fill:"#F24139"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 6C2.44772 6 2 6.44772 2 7V17C2 17.5523 2.44772 18 3 18H14C14.5523 18 15 17.5523 15 17V7C15 6.44772 14.5523 6 14 6H3ZM0 7C0 5.34315 1.34315 4 3 4H14C15.6569 4 17 5.34315 17 7V17C17 18.6569 15.6569 20 14 20H3C1.34315 20 0 18.6569 0 17V7Z",fill:"#F24139"})],-1),ae=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,l.Lk)("g",null,[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.87868 1.87868C4.44129 1.31607 5.20435 1 6 1H14C14.2652 1 14.5196 1.10536 14.7071 1.29289L20.7071 7.29289C20.8946 7.48043 21 7.73478 21 8V20C21 20.7957 20.6839 21.5587 20.1213 22.1213C19.5587 22.6839 18.7957 23 18 23H6C5.20435 23 4.44129 22.6839 3.87868 22.1213C3.31607 21.5587 3 20.7957 3 20V4C3 3.20435 3.31607 2.44129 3.87868 1.87868ZM6 3C5.73478 3 5.48043 3.10536 5.29289 3.29289C5.10536 3.48043 5 3.73478 5 4V20C5 20.2652 5.10536 20.5196 5.29289 20.7071C5.48043 20.8946 5.73478 21 6 21H18C18.2652 21 18.5196 20.8946 18.7071 20.7071C18.8946 20.5196 19 20.2652 19 20V8.41421L13.5858 3H6Z",fill:"#F24139"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1C14.5523 1 15 1.44772 15 2V7H20C20.5523 7 21 7.44772 21 8C21 8.55228 20.5523 9 20 9H14C13.4477 9 13 8.55228 13 8V2C13 1.44772 13.4477 1 14 1Z",fill:"#F24139"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13C17 13.5523 16.5523 14 16 14H8C7.44772 14 7 13.5523 7 13Z",fill:"#F24139"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 17C7 16.4477 7.44772 16 8 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H8C7.44772 18 7 17.5523 7 17Z",fill:"#F24139"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 9C7 8.44772 7.44772 8 8 8H10C10.5523 8 11 8.44772 11 9C11 9.55228 10.5523 10 10 10H8C7.44772 10 7 9.55228 7 9Z",fill:"#F24139"})])],-1),te=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Offer Value ")],-1),le={class:"text-normal text-blue-cool-400"},se={class:"text-blue-cool-600"},ie=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Market ")],-1),oe={class:"text-normal text-blue-cool-400"},ne={key:0,class:"text-blue-cool-600"},de=(0,l.Lk)("p",{class:"text-normal text-blue-cool-400"},[(0,l.Lk)("span",null,"Niches ")],-1),re={class:"text-normal text-blue-cool-400"},ce={key:0,class:"text-blue-cool-600"},ue=(0,l.Lk)("p",{class:"text-blue-cool-600 mb-4 text-subtitle w-50"},"Location",-1),pe={class:"w-100 d-flex mb-2"},ve=(0,l.Lk)("p",{class:"text-normal w-50 text-blue-cool-400"},"Country",-1),me={class:"text-normal w-50 text-blue-cool-600"},fe={class:"w-100 d-flex mb-2"},he=(0,l.Lk)("p",{class:"text-normal w-50 text-blue-cool-400"},"Address",-1),ke={class:"text-normal w-50 text-blue-cool-600"},be={class:"w-100 d-flex"},ge=(0,l.Lk)("p",{class:"text-normal w-50 text-blue-cool-400"},"Zip/Postal code",-1),_e={class:"text-normal w-50 text-blue-cool-600"},we={class:"d-flex flex-column ga-2"},xe=(0,l.Lk)("p",{class:"text-subtitle"},"Campaign brief",-1),ye={class:"text-normal"},Ce=(0,l.Lk)("div",{class:"spacer"},null,-1),Le=["src"],Fe={key:1,class:"preview-content",id:"previewContent"},Ae=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.711 5.29289C19.1015 5.68342 19.1015 6.31658 18.711 6.70711L6.71101 18.7071C6.32049 19.0976 5.68732 19.0976 5.2968 18.7071C4.90628 18.3166 4.90628 17.6834 5.2968 17.2929L17.2968 5.29289C17.6873 4.90237 18.3205 4.90237 18.711 5.29289Z",fill:"#8C8B91"}),(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.2968 5.29289C5.68732 4.90237 6.32049 4.90237 6.71101 5.29289L18.711 17.2929C19.1015 17.6834 19.1015 18.3166 18.711 18.7071C18.3205 19.0976 17.6873 19.0976 17.2968 18.7071L5.2968 6.70711C4.90628 6.31658 4.90628 5.68342 5.2968 5.29289Z",fill:"#8C8B91"})],-1),Be={class:"p-relative mb-16"},Ve={key:0},je=(0,l.Lk)("span",null,"You can only submit the offer when your social platforms are reconnected again.",-1),We=(0,l.Lk)("span",null,"You can only submit the offer when your social platforms are reconnected again.",-1),Me={key:2,class:"d-flex justify-space-between"},Se={key:3},Te=(0,l.Lk)("p",{class:"text-subtitle mb-6"},"Enter the code you recieved from the brand to close the camapign ",-1),Xe=(0,l.Lk)("p",{class:"text-normal text-bold text-blue-cool-600 mb-1"},"Enter code",-1),$e={class:"d-flex ga-3"},De=(0,l.Lk)("strong",null,"Submit",-1);function Ee(e,a,t,Ee,He,ze){const Pe=(0,l.g2)("Dtext"),Qe=(0,l.g2)("DVideo"),Oe=(0,l.g2)("BusinessCard"),Ze=(0,l.g2)("AvatarComponent"),Ie=(0,l.g2)("x-embed"),Ne=(0,l.g2)("all-preview");return(0,l.uX)(),(0,l.Wv)(b.e,{modelValue:e.value,"onUpdate:modelValue":a[17]||(a[17]=a=>e.value=a),temporary:"",location:"right",class:"offer-drawer"},{default:(0,l.k6)((()=>[(0,l.bF)(u.p,{width:"500",modelValue:e.view_text,"onUpdate:modelValue":a[1]||(a[1]=a=>e.view_text=a),justify:"center",class:"pitch-dialog"},{default:(0,l.k6)((()=>[(0,l.bF)(Pe,{data:e.view_data,onCloseDialog:a[0]||(a[0]=()=>{e.view_text=!1})},null,8,["data"])])),_:1},8,["modelValue"]),(0,l.bF)(u.p,{width:"500",modelValue:e.view_video,"onUpdate:modelValue":a[3]||(a[3]=a=>e.view_video=a),justify:"center",class:"pitch-dialog"},{default:(0,l.k6)((()=>[(0,l.bF)(Qe,{data:e.view_data,onCloseDialog:a[2]||(a[2]=()=>{e.view_video=!1})},null,8,["data"])])),_:1},8,["modelValue"]),(0,l.bF)(u.p,{width:"auto",modelValue:e.business_card_show,"onUpdate:modelValue":a[4]||(a[4]=a=>e.business_card_show=a)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",w,[(0,l.bF)(Oe,{user:t.data.campaign.owner.reference},null,8,["user"])])])),_:1},8,["modelValue"]),(0,l.bF)(m.L,{class:"h-100"},{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{lg:0!=e.view_preview?7:12,cols:"12",class:"px-3 py-3 px-md-6 py-md-6 px-10 py-10 p-relative"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,s.C4)("px-md-10 py-md-10 "+(ze.onsite_active?"opacity-30":"opacity-100"))},[e.$vuetify.display.mobile?((0,l.uX)(),(0,l.Wv)(r.D,{key:0,icon:"",class:"ml-auto mb-4 d-block",onClick:a[5]||(a[5]=a=>{e.value=!1,e.$emit("close-drawer")})},{default:(0,l.k6)((()=>[x])),_:1})):(0,l.Q3)("",!0),(0,l.Lk)("div",y,[(0,l.Lk)("div",C,[(0,l.Lk)("h2",L,(0,s.v_)(t.data.campaign.title),1)]),void 0!=t.data.services&&void 0!=t.data.service&&t.data.service.service_slug.includes("onsite")?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.Lk)("div",A,[(0,l.Lk)("div",B,[(0,l.Lk)("div",V,[(0,l.Lk)("p",j,(0,s.v_)(ze.remaining_days.toString().padStart(2,"0")),1),W]),(0,l.Lk)("div",M,[(0,l.Lk)("p",S,(0,s.v_)(ze.remaining_hours.toString().padStart(2,"0")),1),T]),(0,l.Lk)("div",X,[(0,l.Lk)("p",$,(0,s.v_)(ze.remaining_minutes.toString().padStart(2,"0")),1),D])])])])):((0,l.uX)(),(0,l.CE)("div",E,[(0,l.bF)(Ze,{onClick:a[6]||(a[6]=a=>e.business_card_show=!0),showlabel:!0,showusername:!e.$vuetify.display.mobile,avataruser:0!=t.data.campaign.owner&&void 0!=t.data.campaign.owner?t.data.campaign.owner.id:-1,class:"bg-transparent text-primary"},null,8,["showusername","avataruser"]),void 0!=t.data.campaign.platforms&&t.data.campaign.platforms.includes("FB")?((0,l.uX)(),(0,l.Wv)(h.w,{key:0,class:"align-self-center platform-icon ml-auto"},{default:(0,l.k6)((()=>[(0,l.bF)(k.y,{src:i})])),_:1})):(0,l.Q3)("",!0),void 0!=t.data.campaign.platforms&&t.data.campaign.platforms.includes("IG")?((0,l.uX)(),(0,l.Wv)(h.w,{key:1,class:"align-self-center platform-icon ml-auto"},{default:(0,l.k6)((()=>[(0,l.bF)(k.y,{src:o})])),_:1})):(0,l.Q3)("",!0),void 0!=t.data.campaign.platforms&&t.data.campaign.platforms.includes("TKT")?((0,l.uX)(),(0,l.Wv)(h.w,{key:2,class:"align-self-center platform-icon ml-auto"},{default:(0,l.k6)((()=>[(0,l.bF)(k.y,{src:n})])),_:1})):(0,l.Q3)("",!0),void 0!=t.data.campaign.platforms&&t.data.campaign.platforms.includes("TWT")?((0,l.uX)(),(0,l.Wv)(h.w,{key:3,class:"align-self-center platform-icon ml-auto"},{default:(0,l.k6)((()=>[(0,l.bF)(k.y,{src:d})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(c.x,{class:"ml-3 data-chip align-self-center"},{default:(0,l.k6)((()=>[H,(0,l.Lk)("span",z,(0,s.v_)(t.data.status),1)])),_:1})]))]),(0,l.Lk)("div",P,[(0,l.Lk)("p",Q,"About "+(0,s.v_)(t.data?.campaign?.owner?.username),1),(0,l.Lk)("p",O,(0,s.v_)(t.data?.campaign?.owner?.company_description),1)]),(0,l.bF)(p.G,{class:"my-8"}),(0,l.bF)(m.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{order:"3","order-md":"1",cols:"6",md:"3",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[Z,(0,l.Lk)("p",I,[(0,l.Lk)("span",N,(0,s.v_)(t.data?.service?.platform?.formatPlatform()),1)])])),_:1}),(0,l.bF)(f.B,{order:"2","order-md":"2",cols:"6",md:"3",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[R,(0,l.Lk)("p",U,[(0,l.Lk)("span",G,(0,s.v_)(t.data?.service?.service_slug.transformServiceSlug().capitalize()),1)])])),_:1}),(0,l.bF)(f.B,{order:"4","order-md":"3",cols:"6",md:"3",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[K,(0,l.Lk)("p",Y,[(0,l.Lk)("span",q,(0,s.v_)(ze.runtime)+" ("+(0,s.v_)(new Date(1e3*t.data.campaign.end_date).toLocaleDateString("en-GB"))+")",1)])])),_:1}),(0,l.bF)(f.B,{order:"1","order-md":"4",cols:"12",md:"3",class:"d-flex flex-column align-end pt-0 pt-md-3"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",J,[(0,l.bF)(r.D,{size:"xs",class:"btn-icon-card",disabled:void 0==t.data?.service?.brand_content?.data?.data?.content?.media,onClick:a[7]||(a[7]=e=>ze.openMedia(t.data.service))},{default:(0,l.k6)((()=>[ee])),_:1},8,["disabled"]),(0,l.bF)(r.D,{size:"xs",class:"btn-icon-card",disabled:void 0==t.data?.service?.brand_content?.data?.data?.content?.pitch_text||""==t.data?.service?.brand_content?.data?.data?.content?.pitch_text,onClick:a[8]||(a[8]=e=>ze.openPitchText(t.data.service))},{default:(0,l.k6)((()=>[ae])),_:1},8,["disabled"])])])),_:1}),(0,l.bF)(f.B,{order:"5","order-md":"5",cols:"6",md:"3",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[te,(0,l.Lk)("p",le,[(0,l.Lk)("span",se,(0,s.v_)(t.data?.campaign?.is_setup?`${t.data?.value} CHRP`:`$ ${t.data?.value?.toFixed(2)}`),1)])])),_:1}),(0,l.bF)(f.B,{order:"6","order-md":"6",cols:"6",md:"3",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[ie,(0,l.Lk)("p",oe,[ze.campaign_markets.length>0?((0,l.uX)(),(0,l.CE)("span",ne,(0,s.v_)(ze.campaign_markets),1)):(0,l.Q3)("",!0)])])),_:1}),(0,l.bF)(f.B,{order:"7","order-md":"7",cols:"6",md:"6",class:"d-flex flex-column ga-2"},{default:(0,l.k6)((()=>[de,(0,l.Lk)("p",re,[ze.campaign_niches.length>0?((0,l.uX)(),(0,l.CE)("span",ce,(0,s.v_)(ze.campaign_niches),1)):(0,l.Q3)("",!0)])])),_:1})])),_:1}),void 0!=t.data.services&&void 0!=t.data.service&&t.data.service.service_slug.includes("onsite")?((0,l.uX)(),(0,l.Wv)(m.L,{key:1,class:"mb-6"},{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{cols:"12"},{default:(0,l.k6)((()=>[ue,(0,l.Lk)("div",pe,[ve,(0,l.Lk)("p",me,(0,s.v_)(t.data.service.brand_content.data.data.content.location.country),1)]),(0,l.Lk)("div",fe,[he,(0,l.Lk)("p",ke,(0,s.v_)(t.data.service.brand_content.data.data.content.location.address),1)]),(0,l.Lk)("div",be,[ge,(0,l.Lk)("p",_e,(0,s.v_)(t.data.service.brand_content.data.data.content.location.zip),1)])])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p.G,{class:"my-8"}),(0,l.Lk)("div",we,[xe,(0,l.Lk)("p",ye,(0,s.v_)(""!=t.data?.service?.brand_content?.data?.data?.content?.extra_info?t.data?.service?.brand_content?.data?.data?.content?.extra_info:"No campaign brief provided."),1)]),Ce],2)])),_:1},8,["lg"]),e.view_preview?((0,l.uX)(),(0,l.Wv)(f.B,{key:0,lg:"5",md:"12",sm:"12",class:"pb-0"},{default:(0,l.k6)((()=>[void 0!=t.data.services&&void 0!=t.data.service&&t.data.service.service_slug.includes("onsite")?((0,l.uX)(),(0,l.CE)("iframe",{key:0,class:"h-100 w-100 maps-embed",src:`https://www.google.com/maps/embed/v1/directions?key=${e.config.auth.maps}&destination=${t.data.service.brand_content.data.data.content.location.address}&origin=${e.user.location.address},${e.user.location.country}&avoid=tolls`,frameborder:"0"},null,8,Le)):((0,l.uX)(),(0,l.CE)("div",Fe,[e.$vuetify.display.mobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(r.D,{key:0,icon:"",class:"drawer-close ml-auto mb-4 d-block",onClick:a[9]||(a[9]=a=>{e.value=!1,e.$emit("close-drawer")})},{default:(0,l.k6)((()=>[Ae])),_:1})),(0,l.Lk)("div",Be,[void 0!=t.data.service?((0,l.uX)(),(0,l.CE)("div",Ve,[t.data?.service?.service_slug?.startsWith("twt-interaction")?((0,l.uX)(),(0,l.Wv)(Ie,{key:0,media_link:t.data?.service?.brand_content?.data?.data?.content?.media_link},null,8,["media_link"])):((0,l.uX)(),(0,l.Wv)(Ne,{key:1,css_class:"mx-auto",service:t.data.service,data:{user:t.data?.campaign?.owner,username:t.data?.campaign?.owner?.username,caption:t.data.service?.service?.brand_content?.data?.data?.composed?.caption,metrics:{likes:0,retweet:0,comments:0,share:0},created_at:t.data.created_at,hashtags:t.data.service?.brand_content?.data?.data?.content?.hashtags??[],media:t.data.service?.brand_content?.data?.data?.composed?.media,media_type:e.media_type,service:t.data.service.service_slug,files:e.files,referenced_post:t.data?.service?.brand_content?.data?.data?.composed?.referenced}},null,8,["service","data"]))])):(0,l.Q3)("",!0)])]))])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(m.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{cols:"12",class:"p-relative"},{default:(0,l.k6)((()=>[(0,l.bF)(v.O,{class:"offer-drawer-footer d-block",app:""},{default:(0,l.k6)((()=>["pending"==t.data.status?((0,l.uX)(),(0,l.Wv)(m.L,{key:0,class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(_.y,{bottom:"",disabled:e.platform_tokens_alive},{activator:(0,l.k6)((({props:t})=>[(0,l.Lk)("div",(0,l.v6)(t,{class:"d-inline-block"}),[(0,l.bF)(r.D,{color:"primary",class:"btn text-white mr-4",disabled:!e.platform_tokens_alive,onClick:a[10]||(a[10]=e=>ze.offerAction("accept"))},{default:(0,l.k6)((()=>[(0,l.eW)(" Accept offer ")])),_:1},8,["disabled"])],16)])),default:(0,l.k6)((()=>[je])),_:1},8,["disabled"]),(0,l.bF)(r.D,{color:"primary",variant:"outlined",class:"btn text-bold",onClick:a[11]||(a[11]=e=>ze.offerAction("decline"))},{default:(0,l.k6)((()=>[(0,l.eW)(" Decline offer ")])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),"active"==t.data.status?((0,l.uX)(),(0,l.Wv)(m.L,{key:1,class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(_.y,{bottom:"",disabled:e.platform_tokens_alive},{activator:(0,l.k6)((({props:s})=>[(0,l.Lk)("div",(0,l.v6)(s,{class:"d-inline-block"}),[(0,l.bF)(r.D,{color:"primary",class:"btn text-white",disabled:!e.platform_tokens_alive,onClick:a[12]||(a[12]=e=>this.$router.push(`/campaigns/deliverables/${t.data.id}`))},{default:(0,l.k6)((()=>[(0,l.eW)(" Create content ")])),_:1},8,["disabled"])],16)])),default:(0,l.k6)((()=>[We])),_:1},8,["disabled"])])),_:1})])),_:1})):(0,l.Q3)("",!0),ze.onsite_active?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Me,[(0,l.bF)(r.D,{color:"transparent",class:"px-0 btn text-blue-cool-600 text-bold",onClick:a[13]||(a[13]=a=>e.$emit("prev-offer"))},{default:(0,l.k6)((()=>[(0,l.eW)("Previous")])),_:1}),(0,l.bF)(r.D,{color:"transparent",class:"px-0 btn text-blue-cool-600 text-bold",onClick:a[14]||(a[14]=a=>e.$emit("next-offer"))},{default:(0,l.k6)((()=>[(0,l.eW)("Next")])),_:1})])),ze.onsite_active?((0,l.uX)(),(0,l.CE)("div",Se,[Te,Xe,(0,l.bF)(m.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(f.B,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",$e,[(0,l.bF)(g.W,{class:"input mr-2","hide-details":"",placeholder:"Your unique code",density:"compact",modelValue:e.location_token,"onUpdate:modelValue":a[15]||(a[15]=a=>e.location_token=a)},null,8,["modelValue"]),(0,l.bF)(r.D,{color:"primary",class:"btn align-self-center min-width",onClick:a[16]||(a[16]=a=>e.$emit("verify-location-token",[this.data.service.reference,e.location_token]))},{default:(0,l.k6)((()=>[De])),_:1})])])),_:1})])),_:1})])):(0,l.Q3)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var He=t(99718),ze=t(24683),Pe=t(90815),Qe=t(22110),Oe=t(38839),Ze=t(55303),Ie=t.n(Ze),Ne=t(90892),Re=t(82889),Ue=t(66823),Ge=t(74425),Ke=t(96734),Ye=t(66785),qe=t(29241),Je=t(13197),ea=t(82317),aa=t(63036),ta=t(81023);const la=new BroadcastChannel("chrp_auth_channel_connect");var sa={props:{data:{type:Object,default:()=>({campaign:{title:"",markets:[],niches:[]},services:[]})},userpost_features:{type:Object}},methods:{getFileType(e){return Object.keys(this.imageTypes).includes(e)?this.imageTypes[e]:Object.keys(this.videoTypes).includes(e)?this.videoTypes[e]:Object.keys(this.audioTypes).includes(e)?this.audioTypes[e]:void 0},getMediaType(e){return Object.keys(this.imageTypes).includes(e)?"image":Object.keys(this.videoTypes).includes(e)?"video":Object.keys(this.audioTypes).includes(e)?"audio":void 0},async checkTokenAliveServicePlatforms(){try{const e=await Re.A.get(`/v1/auth/platformalive?platform=${this.data.service.platform.toLowerCase()}&scope=write`);!1===e.data.alive&&await this.startAuthentication(this.data.service.platform.formatPlatformSlug())}catch(e){console.error(e)}this.platform_tokens_alive=!0},async startAuthentication(e){return new Promise((a=>{let t=null;Ue.F&&(t=window.open()),Re.A.get(`v1/auth/${e}/connect`).then((e=>{if(Ue.F)t.location=e.data.authorization_url;else{var l=window.open(e.data.authorization_url,"AuthWindow","width=600, height=800, Cross-Origin-Opener-Policy=same-origin");l?.focus()}la.onmessage=e=>{"true"==e.data.success?(this.$toast.success("Successfully reconnected"),a(e.data.success)):this.$toast.error("There was an error: "+e.data.message),l.close()}}))}))},offerAction(e){this.$emit(`${e}-offer`,this.data.reference),this.value=!1,this.$emit("close-drawer")},openPitchText(e){this.view_data.campaign_title=this.data.campaign.title,this.view_data.brand_name=this.data.campaign.owner.username,this.view_data.text=e.brand_content.data.data.content.pitch_text,this.view_text=!0},openMedia(e){this.view_data.campaign_title=this.data.campaign.title,this.view_data.brand_name=this.data.campaign.owner.username,this.view_data.path=e.brand_content.data.data.content.media[0].file_path,this.view_video=!0},openAbout(){this.show_description=!this.show_description},async openComposedMedia(e){this.view_data=e,this.view_preview=!0,setTimeout((()=>{var e=document.getElementById("previewContent");null!=e&&e.scrollIntoView({behavior:"smooth"})}),100)}},mounted(){this.config=Ie(),void 0!=this.data.service&&this.data.service.service_slug.includes("onsite")?this.view_preview=!0:void 0!=this.data.service&&this.checkTokenAliveServicePlatforms()},watch:{data:{handler(e){void 0!=e.service&&e.service.service_slug.includes("onsite")?this.view_preview=!0:void 0!=this.data.service&&this.checkTokenAliveServicePlatforms()},deep:!0}},computed:{...(0,Oe.aH)(Qe.s,["user"]),onsite_active(){return!(void 0==this.data.service||!this.data.service.service_slug.includes("onsite")||"active"!=this.offer_status)},remaining_days(){const e=Math.floor(Date.now()/1e3),a=this.data.campaign.end_date-e;return a<0?0:Math.floor(a/86400)},remaining_hours(){const e=Math.floor(Date.now()/1e3),a=this.data.campaign.end_date-e;return a<0?0:Math.floor(a%86400/3600)},remaining_minutes(){const e=Math.floor(Date.now()/1e3),a=this.data.campaign.end_date-e;return a<0?0:Math.floor(a%3600/60)},formatted_platforms(){let e=[];return void 0!=this.data.campaign.platforms&&this.data.campaign.platforms.forEach((a=>{switch(a.toLowerCase()){case"tkt":e.push("TikTok");break;case"twt":e.push("Twitter/X");break;case"ig":e.push("Instagram");break;case"fb":e.push("Facebook");break}})),e.join(", ")},runtime(){return void 0!=this.data.service&&null==this.data.service.scheduled_at?"ASAP":"Scheduled post"},campaign_markets(){let e=[];return this.data.campaign.markets.forEach((a=>{e.push(a.value)})),e.join(", ")},campaign_niches(){let e=[];return this.data.campaign.niches.forEach((a=>{e.push(a.value)})),e.join(", ")}},data:()=>({show_description:!1,platform_tokens_alive:!1,config:Ie(),value:!1,view_text:!1,view_video:!1,view_preview:!0,view_data:{path:"",text:"",campaign_title:"",brand_name:""},location_token:"",business_card_show:!1,previews:[],files:[],media_type:null,imageTypes:{gif:"image/gif",jpeg:"image/jpeg",jpe:"image/jpeg",jpg:"image/jpeg",png:"image/png"},videoTypes:{mpeg:"video/mpeg",mpe:"video/mpeg",mpg:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",mov:"video/quicktime"},audioTypes:{mp4:"audio/mpeg",wav:"audio/wav"}}),components:{AvatarComponent:Pe.A,Dtext:He.A,DVideo:ze.A,BusinessCard:Ne.A,igReel:Ge.A,igFeed:Ke.A,igStory:Ye.A,fbPost:qe.A,tktFeed:Je.A,xFeed:ea.A,xEmbed:aa.A,allPreview:ta.A}},ia=t(66262);const oa=(0,ia.A)(sa,[["render",Ee]]);var na=oa},90815:function(e,a,t){t.d(a,{A:function(){return b}});var l=t(20641),s=t(90033),i=t(30129),o=t(99609),n=t(68517);const d={key:0,class:"align-self-center"};function r(e,a,t,r,c,u){return t.showlabel?((0,l.uX)(),(0,l.Wv)(o.x,{key:0,size:"x-large",class:"avatar-component align-self-center",variant:"outlined"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,s.C4)("d-flex ga-2 "+(t.showusername?"pr-2":""))},[(0,l.bF)(i.y,{size:t.avatarimagesize},{default:(0,l.k6)((()=>[(0,l.bF)(n.y,{class:"bird-image",src:u.profile_image_url},null,8,["src"])])),_:1},8,["size"]),t.showusername?((0,l.uX)(),(0,l.CE)("strong",d,(0,s.v_)(e.avataruserobject.username),1)):(0,l.Q3)("",!0)],2)])),_:1})):((0,l.uX)(),(0,l.Wv)(i.y,{key:1,size:t.avatarimagesize},{default:(0,l.k6)((()=>[(0,l.bF)(n.y,{class:"bird-image",src:u.profile_image_url},null,8,["src"])])),_:1},8,["size"]))}var c=t(22110),u=t(38839),p=t(55303),v=t.n(p),m=t(82889),f={data:()=>({config:v(),avataruserobject:{}}),computed:{...(0,u.aH)(c.s,["user"]),profile_image_url(){return void 0==this.avataruserobject.profilepicture||""==this.avataruserobject.profilepicture?this.config.url.main+"/default_avatar.png":this.config.url.cdn+"/users/avatars/"+this.avataruserobject.profilepicture}},props:{showlabel:{type:Boolean,default:!0},showusername:{type:Boolean,default:!1},avataruser:{type:Number,default:-1},avatarimagesize:{type:Number,default:40},showoutline:{type:Boolean,default:!0}},watch:{avataruser(e){m.A.get(`v1/users/${e}`).then((e=>{this.avataruserobject=e.data})).catch((()=>{}))}},mounted(){m.A.get(`v1/users/${-1!=this.avataruser?this.avataruser:this.user.id}`).then((e=>{this.avataruserobject=e.data})).catch((()=>{}))}},h=t(66262);const k=(0,h.A)(f,[["render",r]]);var b=k},66823:function(e,a,t){t.d(a,{F:function(){return i}});var l=t(50953);let s=(0,l.KR)(!1);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?s.value=!0:s.value=!1;const i=s.value},99133:function(e,a,t){t.d(a,{O:function(){return g}});var l=t(20641),s=t(11348),i=t(93683),o=t(95851),n=t(90019),d=t(20156),r=t(52336),c=t(75501),u=t(21070),p=t(95841),v=t(50953),m=t(81094),f=t(72636),h=t(14675),k=t(94717);const b=(0,m.j)({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...(0,s.r)(),...(0,o.u)(),...(0,n.s)(),...(0,d.CK)(),...(0,c.S)(),...(0,u.X)({tag:"footer"}),...(0,p.yx)()},"VFooter"),g=(0,f.RW)()({name:"VFooter",props:b(),setup(e,a){let{slots:t}=a;const{themeClasses:o}=(0,p.NX)(e),{backgroundColorClasses:u,backgroundColorStyles:m}=(0,i.z6)((0,v.lW)(e,"color")),{borderClasses:f}=(0,s.M)(e),{elevationClasses:b}=(0,n.j)(e),{roundedClasses:g}=(0,c.v)(e),_=(0,v.IJ)(32),{resizeRef:w}=(0,r.w)((e=>{e.length&&(_.value=e[0].target.clientHeight)})),x=(0,l.EW)((()=>"auto"===e.height?_.value:parseInt(e.height,10))),{layoutItemStyles:y,layoutIsReady:C}=(0,d.hc)({id:e.name,order:(0,l.EW)((()=>parseInt(e.order,10))),position:(0,l.EW)((()=>"bottom")),layoutSize:x,elementSize:(0,l.EW)((()=>"auto"===e.height?void 0:x.value)),active:(0,l.EW)((()=>e.app)),absolute:(0,v.lW)(e,"absolute")});return(0,h.C)((()=>(0,l.bF)(e.tag,{ref:w,class:["v-footer",o.value,u.value,f.value,b.value,g.value,e.class],style:[m.value,e.app?y.value:{height:(0,k.Dg)(e.height)},e.style]},t))),e.app?C:{}}})}}]);
//# sourceMappingURL=7708.faf3a8b3.js.map